









<div   class="col-lg-9 col-md-6 col-6 animate__animated animate__fadeInUp" style="margin-left:  10%; margin-bottom: 30% "   >
  <div class="card card-stats">
    <div class="card-body">
      <div class="row">
        <div class="col-5 col-md-4">
          <div class="icons- text-lg-left icon-warning" style="margin-top: 3px">
            <i class="nc-icon nc-tile-56 text-default"></i>
          </div>
        </div>
        <div class="col-7 col-md-8">
          <div class="numbers">
            <p class="card-category">formulaire</p>
          </div>
        </div>
        <div class="col-xl-9 col-md-8">
          <div class="card-header">
            <h2 class="card-title">enregistrement d'une Absence </h2>
          </div>
        </div>
      </div>
      <form  [formGroup]="absenceForm"   (ngSubmit)= "createAbsence()">
        <div class="row" style="border-top: solid 1px lightgray">


          <div class="card-body  col-sm-6">
            <div class="form-group has-label col-xl-11" style="width: 100%">
              <label class="control-label" for="email">  L'email de l'employ√©: <span class="star">*</span></label>
              <input formControlName="email"  class="form-control" name="email" required type="email"
              [ngClass]="{
                'is-valid' : absenceForm.controls.email.valid ,
                'is-invalid' : absenceForm.controls.email.dirty && absenceForm.controls.email.invalid
              }"
              >
              @if( absenceForm.controls.email.dirty && absenceForm.controls.email.invalid){<small class ="text-danger">L'email est obligatoire</small>}

            </div>
          </div>
          <div class="card-body  col-sm-6">
            <div class="form-group has-label col-xl-11" style="width: 100%">
              <label class="control-label" for="date">  Date de l'absence: <span class="star">*</span></label>
              <input  formControlName="absence_day"  class="form-control"
                      name="absence_day" required type="date"
                      [ngClass]="{
                      'is-valid' : absenceForm.controls.absence_day.valid ,
                       'is-invalid' : absenceForm.controls.absence_day.dirty && absenceForm.controls.absence_day.invalid
              }"
              >
              @if( absenceForm.controls.absence_day.dirty && absenceForm.controls.absence_day.invalid){<small class ="text-danger">L'email est obligatoire</small>}

            </div>
          </div>
          <div class="card-body  col-sm-6">
            <div class="form-group has-label col-xl-11" style="width: 100%">
              <label class="control-label" for="reason">Raison de l'absence: <span class="star">*</span></label>
              <textarea     formControlName="reason" name="reason" class="form-control" placeholder="veuillez saisir la  raison de l'absence" rows="2"
                  [ngClass]="{
                  'is-invalid' : absenceForm.controls.reason.invalid && absenceForm.controls.reason.dirty ,
                  'is-valid' : absenceForm.controls. reason.valid
                }"
              ></textarea>
              @if(absenceForm.controls.reason.invalid && absenceForm.controls.reason.dirty){<small class="text-danger">La  raison de l'absence est requise</small>}

            </div>
          </div>

          <div class="card-body  col-sm-6"  >
            <button type="submit" [disabled]="absenceForm.invalid" class="btn btn-outline-default btn-round" style=" margin-left: 50px ; margin-top: 50px">
              <i class="fa fa-save"></i> enregistrer l'absence
            </button>
          </div>
        </div>
      </form>

    </div>

  </div>


</div>


<!--
-->



